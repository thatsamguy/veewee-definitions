#!/usr/bin/perl -cw
# 
# You should check the syntax of this file before using it in an auto-install.
# You can do this with 'perl -cw auto_inst.cfg.pl' or by executing this file
# (note the '#!/usr/bin/perl -cw' on the first line).
$o = {
       'timezone' => {
		       'ntp' => 'pool.ntp.org',
		       'timezone' => 'Australia/Melbourne',
		       'UTC' => 1
		     },
       'security_user' => undef,
       'default_packages' => [
                               'acl',
                               'acpi',
                               'acpid',
                               'alsa-utils',
                               'aria2',
                               'aumix-text',
                               'basesystem',
                               'basesystem-minimal',
                               'bash',
                               'binutils',
                               'bootloader-utils',
                               'bootsplash',
                               'bridge-utils',
                               'bzip2',
                               'carl9170-firmware',
                               'chkconfig',
                               'common-licenses',
                               'consolekit',
                               'coreutils',
                               'cpio',
                               'cracklib-dicts',
                               'crda',
                               'cronie',
                               'cronie-anacron',
                               'crontabs',
                               'curl',
                               'dash',
                               'dash-static',
                               'dbus',
                               'desktop-common-data',
                               'desktop-file-utils',
                               'dhcp-client',
                               'dhcp-common',
                               'diffutils',
                               'dmidecode',
                               'dmraid',
                               'dmraid-events',
                               'dmsetup',
                               'dracut',
                               'drak3d',
                               'drakx-kbd-mouse-x11',
                               'drakxtools-backend',
                               'drakxtools-curses',
                               'e2fsprogs',
                               'eject',
                               'etcskel',
                               'ethtool',
                               'file',
                               'filesystem',
                               'findutils',
                               'fontconfig',
                               'fuse',
                               'gawk',
                               'genhdlist2',
                               'gettext-base',
                               'glibc',
                               'gnupg',
                               'gnupg2',
                               'grep',
                               'groff-for-man',
                               'grub',
                               'gzip',
                               'harddrake',
                               'hicolor-icon-theme',
                               'ifmetric',
                               'ifplugd',
                               'info',
                               'info-install',
                               'initscripts',
                               'iproute2',
                               'iptables',
                               'iputils',
                               'irqbalance',
                               'iw',
                               'kbd',
                               'kernel-firmware',
                               'kernel-server-latest',
                               'kmod',
                               'krb5',
                               'ldetect',
                               'ldetect-lst',
                               'less',
                               'lftp',
                               'lib64acl1',
                               'lib64alsa2',
                               'lib64atasmart4',
                               'lib64attr1',
                               'lib64audit1',
                               'lib64blkid1',
                               'lib64bzip2_1',
                               'lib64cairo2',
                               'lib64cap2',
                               'lib64cap-ng0',
                               'lib64cares2',
                               'lib64consolekit0',
                               'lib64crack2',
                               'lib64cryptsetup4',
                               'lib64curl4',
                               'lib64daemon0',
                               'lib64datrie1',
                               'lib64db4.8',
                               'lib64dbnss4.8',
                               'lib64dbus-1_3',
                               'lib64devmapper1.02',
                               'lib64devmapper-event1.02',
                               'lib64directfb1.5_0',
                               'lib64dmraid1',
                               'lib64drm2',
                               'lib64drm_intel1',
                               'lib64drm_nouveau1',
                               'lib64drm_radeon1',
                               'lib64edit0',
                               'lib64elfutils1',
                               'lib64expat1',
                               'lib64ext2fs2',
                               'lib64ffi5',
                               'lib64fontconfig1',
                               'lib64fontenc1',
                               'lib64freetype6',
                               'lib64gcrypt11',
                               'lib64gdbm4',
                               'lib64gio2.0_0',
                               'lib64glib2.0_0',
                               'lib64glib-gir2.0',
                               'lib64gmp10',
                               'lib64gnutls28',
                               'lib64gpg-error0',
                               'lib64gudev1.0_0',
                               'lib64hogweed2',
                               'lib64ice6',
                               'lib64idn11',
                               'lib64intl8',
                               'lib64jpeg8',
                               'lib64kmod2',
                               'lib64kms1',
                               'lib64krb53',
                               'lib64ldap2.4_2',
                               'lib64ldetect0.12',
                               'lib64lftp0',
                               'lib64lm_sensors4',
                               'lib64lockdev1',
                               'lib64lua5.1',
                               'lib64lzma5',
                               'lib64magic1',
                               'lib64mount1',
                               'lib64ncurses5',
                               'lib64ncursesw5',
                               'lib64nettle4',
                               'lib64nspr4',
                               'lib64nss3',
                               'lib64openssl1.0.0',
                               'lib64openssl-engines1.0.0',
                               'lib64p11-kit0',
                               'lib64pam0',
                               'lib64pam_userpass1',
                               'lib64pango1.0_0',
                               'lib64pango1.0_0-modules',
                               'lib64parted1',
                               'lib64pci3',
                               'lib64pciaccess0',
                               'lib64pcre0',
                               'lib64pixman1_0',
                               'lib64plymouth2',
                               'lib64png15_15',
                               'lib64polkit1_0',
                               'lib64popt0',
                               'lib64pth20',
                               'lib64python2.7',
                               'lib64readline6',
                               'lib64rpm2',
                               'lib64rpmbuild2',
                               'lib64rpmsign2',
                               'lib64sasl2',
                               'lib64sigsegv2',
                               'lib64sm6',
                               'lib64sqlite3_0',
                               'lib64ssh2_1',
                               'lib64sysfs2',
                               'lib64systemd-daemon0',
                               'lib64systemd-id1280',
                               'lib64systemd-journal0',
                               'lib64systemd-login0',
                               'lib64tasn1_3',
                               'lib64tcb0',
                               'lib64tcl8.5',
                               'lib64termcap2',
                               'lib64thai0',
                               'lib64udev0',
                               'lib64user1',
                               'lib64utempter0',
                               'lib64uuid1',
                               'lib64vncserver0',
                               'lib64wrap0',
                               'lib64x11_6',
                               'lib64x86_1',
                               'lib64xau6',
                               'lib64xcb1',
                               'lib64xdmcp6',
                               'lib64xext6',
                               'lib64xft2',
                               'lib64xml2_2',
                               'lib64xmu6',
                               'lib64xrender1',
                               'lib64xt6',
                               'lib64zlib1',
                               'libalsa-data',
                               'libdrakx-kbd-mouse-x11',
                               'libdrakx-net',
                               'libdrm-common',
                               'libgcc1',
                               'libgpg-error-common',
                               'libnl3',
                               'libstdc++6',
                               'libuser',
                               'locales',
                               'locales-en',
                               'lockdev',
                               'logrotate',
                               'lsb-release',
                               'mageia-gfxboot-theme',
                               'mageia-release-common',
                               'mageia-release-Default',
                               'mageia-theme-common',
                               'mageia-theme-Default',
                               'mageia-theme-Default-screensaver',
                               'makedev',
                               'man',
                               'man-pages',
                               'menu-messages',
                               'meta-task',
                               'microcode_ctl',
                               'mingetty',
                               'mkfontdir',
                               'mkfontscale',
                               'monitor-edid',
                               'multiarch-utils',
                               'ncurses',
                               'net-tools',
                               'nss',
                               'nss-myhostname',
                               'nss_tcb',
                               'ntfs-3g',
                               'ntp',
                               'ntp-client',
                               'numlock',
                               'openldap',
                               'openssh-server',
                               'openssl',
                               'p11-kit',
                               'pam',
                               'pam_tcb',
                               'pango',
                               'passwd',
                               'pciutils',
                               'perl',
                               'perl-Archive-Cpio',
                               'perl-Archive-Tar',
                               'perl-base',
                               'perl-CGI',
                               'perl-Config-IniFiles',
                               'perl-Curses',
                               'perl-Curses-UI',
                               'perl-DBI',
                               'perl-Encode-Locale',
                               'perl-FCGI',
                               'perl-File-FnMatch',
                               'perl-File-Listing',
                               'perl-File-Sync',
                               'perl-Filesys-Df',
                               'perl-Hal-Cdroms',
                               'perl-HTML-Parser',
                               'perl-HTML-Tagset',
                               'perl-HTTP-Cookies',
                               'perl-HTTP-Daemon',
                               'perl-HTTP-Date',
                               'perl-HTTP-Message',
                               'perl-HTTP-Negotiate',
                               'perl-Libconf',
                               'perl-libwww-perl',
                               'perl-Locale-gettext',
                               'perl-LWP-MediaTypes',
                               'perl-MDK-Common',
                               'perl-MDV-Distribconf',
                               'perl-MDV-Packdrakeng',
                               'perl-Module-Build',
                               'perl-Net-HTTP',
                               'perl-String-CRC32',
                               'perl-String-ShellQuote',
                               'perl-Term-ReadKey',
                               'perl-Text-DelimMatch',
                               'perl-Time-ZoneInfo',
                               'perl-URI',
                               'perl-URPM',
                               'perl-WWW-Curl',
                               'perl-WWW-RobotRules',
                               'perl-XML-LibXML',
                               'perl-XML-NamespaceSupport',
                               'perl-XML-Parser',
                               'perl-XML-SAX',
                               'perl-XML-SAX-Base',
                               'perl-XML-Twig',
                               'plymouth',
                               'plymouth-plugin-label',
                               'plymouth-plugin-script',
                               'plymouth-scripts',
                               'plymouth-system-theme',
                               'pm-fallback-policy',
                               'pm-utils',
                               'polkit',
                               'popt-data',
                               'prcsys',
                               'procps',
                               'psmisc',
                               'radeontool',
                               'resolvconf',
                               'rmt',
                               'rootcerts',
                               'rootfiles',
                               'rpm',
                               'rpm-helper',
                               'rpm-mageia-setup',
                               'rsyslog',
                               'ruby',
                               'run-parts',
                               'sash',
                               'sed',
                               'setup',
                               'shadow-utils',
                               'sharutils',
                               'sound-scripts',
                               'sudo',
                               'sysfsutils',
                               'systemd',
                               'systemd-sysvinit',
                               'systemd-units',
                               'sysvinit-legacy-tools',
                               'tar',
                               'tcb',
                               'termcap',
                               'thai-data',
                               'time',
                               'timezone',
                               'tmpwatch',
                               'udev',
                               'update-alternatives',
                               'urpmi',
                               'utempter',
                               'util-linux',
                               'vbetool',
                               'vim-common',
                               'vim-enhanced',
                               'which',
                               'wireless-regdb',
                               'x11-font-daewoo-misc',
                               'x11-font-isas-misc',
                               'x11-font-jis-misc',
                               'xdg-user-dirs',
                               'xdg-utils',
                               'xprop',
                               'xset',
                               'xz'
			     ],
       'users' => [
		    {
		      'icon' => 'default',
		      'realname' => 'vagrant',
		      'pw' => '$2a$08$U3sBa1k6PPop7N4frsf2X.6KpGIIPUQr/0yHplGAd3Zh9eb6fCb2W',
		      'uid' => undef,
		      'groups' => [],
		      'name' => 'vagrant',
		      'shell' => '/bin/bash',
		      'gid' => undef
		    }
		  ],
       'locale' => {
		     'country' => 'AU',
		     'IM' => undef,
		     'lang' => 'en_AU',
		     'langs' => {
				  'en_AU' => 1
				},
		     'utf8' => 1
		   },
       'net' => {
		  'zeroconf' => {},
		  'network' => {
				 'NETWORKING' => 'yes',
				 'HOSTNAME' => 'localhost.localdomain',
				 'CRDA_DOMAIN' => 'AU'
			       },
		  'autodetect' => {},
		  'resolv' => {
				'DOMAINNAME' => undef,
				'dnsServer' => undef,
				'DOMAINNAME2' => undef,
				'dnsServer2' => undef,
				'DOMAINNAME3' => undef,
				'dnsServer3' => undef
			      },
		  'wireless' => {},
		  'ifcfg' => {
			       'eth0' => {
					   'PEERDNS' => 'yes',
					   'HWADDR' => undef,
					   'PEERYP' => 'yes',
					   'IPV6INIT' => 'no',
					   'BROADCAST' => '',
					   'MII_NOT_SUPPORTED' => 'no',
					   'USERCTL' => 'no',
					   'IPV6TO4INIT' => 'no',
					   'BOOTPROTO' => 'dhcp',
					   'ACCOUNTING' => 'no',
					   'NM_CONTROLLED' => 'no',
					   'DEVICE' => 'eth0',
					   'NEEDHOSTNAME' => 'no',
					   'PEERNTPD' => 'no',
					   'NETWORK' => '',
					   'ONBOOT' => 'yes',
					   'RESOLV_MODS' => 'no',
					   'DHCP_CLIENT' => 'dhclient',
					   'METRIC' => '5'
					 }
			     },
		  'type' => 'ethernet',
		  'net_interface' => 'eth0',
		  'PROFILE' => 'default'
		},
       'authentication' => {
			     'shadow' => 1,
			     'blowfish' => 1
			   },
       'partitions' => [
			 {
			   'fs_type' => 'ext4',
			   'mntpoint' => '/',
			   'size' => 20753932
			 }
		       ],
       'partitioning' => {
			   'auto_allocate' => '1',
			   'clearall' => 1,
			 },
       'superuser' => {
			'pw' => '$2a$08$U3sBa1k6PPop7N4frsf2X.6KpGIIPUQr/0yHplGAd3Zh9eb6fCb2W',
			'realname' => 'root',
			'uid' => '0',
			'shell' => '/bin/bash',
			'home' => '/root',
			'gid' => '0'
		      },
       'security' => 1,
       'mouse' => {
		    'EmulateWheel' => undef,
		    'synaptics' => undef,
		    'name' => 'Any PS/2 & USB mice',
		    'device' => 'input/mice',
		    'evdev_mice' => [
				      {
					'device' => '/dev/input/by-id/usb--event-mouse',
					'HWheelRelativeAxisButtons' => '7 6'
				      }
				    ],
		    'evdev_mice_all' => [
					  {
					    'device' => '/dev/input/by-id/usb--event-mouse',
					    'HWheelRelativeAxisButtons' => '7 6'
					  }
					],
		    'type' => 'Universal',
		    'nbuttons' => 7,
		    'Protocol' => 'ExplorerPS/2',
		    'wacom' => [],
		    'MOUSETYPE' => 'ps/2'
		  },
       'autoExitInstall' => '1',
       'keyboard' => {
		       'GRP_TOGGLE' => '',
		       'KEYBOARD' => 'us'
		     },
       # Only use postInstall for stuff that needs to occur before the reboot
       # Add vagrant to nopasswd sudoers
       # Remove firewall, non-server kernels and stop kernel upgrades that break vbox additions
       'postInstall' => '
		       echo "vagrant        ALL=(ALL)       NOPASSWD: ALL" >> /etc/sudoers.d/vagrant
		       chmod 0440 /etc/sudoers.d/*
		       urpme --auto -a shorewall kernel-server-latest kernel-desktop
		       rm -fR /etc/shorewall
		     ',
     };
